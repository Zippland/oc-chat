# oc-chat

`oc-chat` 是一个基于 Ollama 的角色对话生成器，旨在通过设定的角色背景和性格模拟互动对话。用户不仅可以自定义角色的第一句话，还可以选择让 AI 自动生成对话内容，适合用作创意写作、角色扮演游戏或聊天机器人等场景。

## 目录

- [简介](#简介)
- [要求](#要求)
- [安装步骤](#安装步骤)
- [使用方法](#使用方法)
- [功能说明](#功能说明)
- [示例](#示例)
- [贡献](#贡献)
- [许可](#许可)

## 简介

`oc-chat` 利用 Ollama 提供的语言模型实现角色对话。用户可以创建丰富的角色背景，并通过简单的命令行界面与角色进行互动。系统会根据角色性格生成合适的对话内容，促进有趣的交流。

## 要求

- **Python 3.7 或更高版本**：确保你的环境中安装了合适版本的 Python。
- **Ollama CLI 工具**：必须安装 Ollama，以便运行语言模型。
- **模型下载**：需要下载 `llama3.1:8b` 模型以进行对话生成。

## 安装步骤

### 1. 安装 Python

确保在你的计算机上安装了 Python 3.7 或更高版本。可以在 [Python 官网](https://www.python.org/downloads/) 下载和安装。

### 2. 安装 Ollama

请按照 Ollama 官方文档中的步骤安装 Ollama CLI 工具。可以在终端运行以下命令来检查是否安装成功：

```bash
ollama --version
```

### 3. 下载语言模型

运行以下命令下载所需的语言模型：

```bash
ollama pull llama3.1:8b
```

确保模型下载成功，以便在运行时可以调用。

### 4. 克隆项目

使用 Git 将项目克隆到本地：

```bash
git clone https://github.com/你的用户名/oc-chat.git
cd oc-chat
```

### 5. 安装依赖

在项目目录下安装所需的 Python 依赖：

```bash
pip install subprocess
```

## 使用方法

### 1. 运行程序

在项目目录下运行程序：

```bash
python dialogue.py
```

### 2. 输入角色A的第一句话

程序启动后，控制台会提示你输入角色A的第一句话。你可以选择输入自定义内容，或者直接按回车键让 AI 自动生成第一句话。

### 3. 进行对话

程序将进入循环状态，角色A和角色B将根据各自的性格和背景进行对话。对话内容会实时输出到控制台，用户可以通过观察输出理解角色间的互动。

### 4. 总结功能

每经过设定的对话轮次（默认为10轮），系统将自动生成对话总结，并清空对话记录，以便用户查看对话的主要内容。

## 功能说明

- **角色自定义**：用户可以设置角色的性格、背景故事和对话目的。
- **实时对话**：角色间的对话会实时生成，支持动态交流。
- **总结输出**：每隔设定的轮次生成对话总结，帮助用户回顾对话内容。
- **灵活输入**：用户可以自定义第一句话，增强个性化体验。

## 示例

以下是程序的示例输出：

```
请输入哈利·波特的第一句话（留空则由AI生成）：你好，马尔福。
[1]【德拉科·马尔福】 我很少有时间与别人交谈，我更习惯于在黑暗中思考我的未来，但既然你来到这里，我当然要看看你是否配得上与我分享这个房间。

[2]【哈利·波特】 我能理解你想独自一人思考的愿望，但是你也不知道吗，和别人交谈也许可以帮助你找到答案呢？
[2]【德拉科·马尔福】 哦？你觉得如此？你以为简单地与我交谈就足以解决我的困扰？你真的认为你的浅见能给予我什么样的帮助？我在这里思考的不是寻找答案，而是挑战自己，证明我何以成为马尔福家族的一 员。

[3]【哈利·波特】 我不怀疑你的意志和决心，但我也想说，如果你能与他人分享你的思想和感受，也许能够找到更好的解决方案。你看过伏地魔的历史吗？他本来是为了保护自己和自己的权利，却最终变成了黑暗 力量的象征。
[3]【德拉科·马尔福】 你认为自己有资格谈论伏地魔的历史?那只是个例子，证明了当你试图独自承受巨大的压力时，你很容易失去方向和控制。与他人分享你的思想和感受？我更想知道，你是否能理解我的处境，以及我不愿意被束缚于家族的期望中感到的孤立。

[4]【哈利·波特】 马尔福，我不是要教你什么，也不是要告诉你如何做，而是想说，如果你能和其他人分享你的心声，你可能会发现有很多人同样理解你所经历的一切，我们之间的相似之处可能会成为你找回方向 的起点。
[4]【德拉科·马尔福】 我不需要任何人的帮助来找到我的方向，哈利。我的家人和朋友们早已经对我施加了足够的压力，我并不需要你的同情或鼓励来证明自己。我只是想看看，你是否真的能理解我的处境，也能
承受家族所期望的重担？
...
```

在这个示例中，用户输入了角色A的第一句话，之后角色之间展开了对话。

## 贡献

欢迎对本项目贡献代码、建议或提出问题！请先 Fork 本项目，在进行修改后提交 Pull Request。贡献者请遵循以下步骤：

1. Fork 本项目
2. 创建自己的分支：

   ```bash
   git checkout -b feature/你的功能名
   ```

3. 提交更改：

   ```bash
   git commit -m "描述你的更改"
   ```

4. 推送到你的分支：

   ```bash
   git push origin feature/你的功能名
   ```

5. 提交 Pull Request。

## 许可

本项目采用 MIT 许可证，具体内容请查看 [LICENSE](LICENSE) 文件。任何人都可以自由使用、修改和分发本项目的代码。

---

感谢你的使用与支持，期待你的反馈和贡献！
